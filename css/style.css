body { font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 15px; background-color: #282c34; color: #fff; font-size: 14px; }
h1 { color: #61dafb; font-size: 1.8em; }
h2 { color: #61dafb; font-size: 1.4em; margin-top: 0; margin-bottom: 15px; }
.main-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 15px; align-items: start; max-width: 1920px; margin: auto; }
.card { background-color: #3a3f47; border-radius: 8px; padding: 15px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); border: 1px solid #4a4f58; }
.info-grid, .status-grid { display: grid; grid-template-columns: auto 1fr; gap: 8px; text-align: left; font-size: 1em; margin-top: 10px; align-items: center;}
.info-grid strong, .status-grid strong { color: #a2f279; }
button { background-color: #61dafb; color: #282c34; border: none; padding: 8px 12px; border-radius: 5px; font-weight: bold; cursor: pointer; transition: background-color 0.3s, opacity 0.3s, box-shadow 0.2s; font-size: 0.9em; }
button:hover { background-color: #a2f279; }
button:disabled { background-color: #4a4f58; color: #888; cursor: not-allowed; opacity: 0.6; }
.gamepad-flash { box-shadow: 0 0 10px 3px #a2f279 !important; }
#emergencyStopBtn { background-color: #ff6347; color: white; width: 100%; margin-top: 15px; }
.control-row { display: flex; align-items: center; justify-content: space-between; width: 100%; margin-top: 10px; }
.control-label { font-size: 1.1em; font-weight: bold; }
.switch { position: relative; display: inline-block; width: 50px; height: 28px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider.round { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ff6347; transition: .4s; border-radius: 28px; }
.slider.round:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: #a2f279; }
input:checked + .slider:before { transform: translateX(22px); }
input[type="checkbox"].slider-checkbox + .slider { background-color: #4a4f58; }
input[type="checkbox"].slider-checkbox:checked + .slider { background-color: #a2f279; }
input:disabled + .slider { background-color: #4a4f58; cursor: not-allowed; }
fieldset { border: none; border-top: 1px solid #4a4f58; border-radius: 0; margin-top: 15px; padding: 10px 0; background-color: transparent; }
legend { color: #61dafb; font-weight: bold; padding: 0; font-size: 1.0em; }
#joystickWrapper { position: relative; width: 180px; height: 180px; border-radius: 50%; background-color: #4a4f58; border: 3px solid #61dafb; margin: 15px auto; touch-action: none; }
#joystickCanvas { width: 100%; height: 100%; display: block; }
#chart-wrapper { position: relative; height: 420px; border-radius: 8px; overflow: hidden; background-color: #20232a; }
#log-history { text-align: left; overflow-y: auto; background-color: #20232a; padding: 10px; border-radius: 8px; font-family: monospace; white-space: pre-wrap; }
/* Stała wysokość otwartego panelu logów + odsunięcie treści, aby nie zasłaniać przycisków na dole (także na telefonie) */
#log-card { --log-card-total: 0px; }
#log-card.open #log-history { display:block !important; }
/* Domyślna wysokość zawartości logów (mobile-first) */
#log-card.open #log-history { height: 28vh; max-height: 28vh; }
@media (min-width: 769px) {
    #log-card.open #log-history { height: 22vh; max-height: 22vh; }
}
/* Odsunięcie całej strony, gdy logi są rozwinięte */
body.logs-open { padding-bottom: calc(var(--log-card-total, 0px) + 8px); }
.status-indicator { width: 14px; height: 14px; border-radius: 50%; display: inline-block; }
.status-ok { background-color: #a2f279; }
.status-warn { background-color: #f7b731; }
.status-error { background-color: #ff6347; }
.status-disconnected { background-color: #888; }
#emergency-banner { display: none; background-color: #ff6347; color: white; padding: 10px; font-weight: bold; position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; }

/* Save button styling left unchanged (no unsaved state highlight) */
.angle-display { display: flex; align-items: center; justify-content: space-between; }
.angle-indicator-wrapper { position: relative; width: 34px; height: 34px; background-color: #20232a; border-radius: 50%; border: 1px solid #61dafb; }
.angle-indicator-needle { position: absolute; bottom: 50%; left: calc(50% - 1px); width: 2px; height: 50%; background-color: #ff6347; transform-origin: bottom center; transition: transform 0.1s linear; }
.chart-controls { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 10px; font-size: 0.9em; }
.chart-controls label { color: #fff; }
.setting-container { display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center; margin: 8px 0; }
.setting-container label { font-size: 1em; font-weight: bold; color: #a2f279; text-align: left; }
.numeric-input-wrapper { display: flex; align-items: center; flex-shrink: 0; }
.numeric-input-wrapper button { background-color: #4a4f58; color: #61dafb; padding: 4px 8px; font-size: 1em; line-height: 1; min-width: 30px; }
.numeric-input-wrapper input[type=number] { width: 90px; text-align: center; font-size: 1em; background-color: #20232a; color: #fff; border: 1px solid #61dafb; border-radius: 5px; margin: 0 4px; padding: 4px; -moz-appearance: textfield; appearance: none; }
input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
.manual-tune-row { background-color: #2a2f35; padding: 10px; border-radius: 6px; margin-bottom: 12px; }
.pwm-input-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.pwm-input-row label { font-weight: bold; color: #a2f279; }
.pwm-button-row { display: flex; justify-content: flex-end; gap: 10px; }
.pwm-button-row button { flex-grow: 1; max-width: 100px; }
.test-btn { background-color: #a2f279; }
.stop-btn { background-color: #ff6347; }
.auto-btn { background-color: #f7b731; }
.trim-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; }
.trim-controls span { font-weight: bold; }
.trim-controls button { min-width: 40px; font-size: 1.2em; }
.accordion-header { background-color: #4a4f58; color: #61dafb; cursor: pointer; padding: 12px 15px; border: none; text-align: left; outline: none; font-size: 1.1em; font-weight: bold; width: 100%; border-radius: 8px; margin-top: 5px; transition: background-color 0.3s; position: relative; }
.accordion-header:hover { background-color: #5a6068; }
.accordion-header.active { background-color: #61dafb; color: #282c34; border-bottom-left-radius: 0; border-bottom-right-radius: 0;}
.accordion-header::after { content: '+'; position: absolute; right: 15px; font-size: 1.4em; transition: transform 0.3s; }
.accordion-header.active::after { content: '-'; }
.accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out, padding 0.2s ease-out; background-color: #3a3f47; border-bottom-left-radius: 8px; border-bottom-right-radius: 8px; padding: 0 15px; }
.accordion-content.active { padding: 15px; }
.accordion-content.auto-height { max-height: none !important; overflow: visible; }
/* Minimal responsive: utrzymanie tabel wyników przewijalnych i scroll w sekcji ML */
@media (max-width: 760px) {
    .autotune-results-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }
    .autotune-results-table { min-width: 600px; }
    #ml-preview { font-size: 0.85em; }
}
.pwm-info { background-color: #20232a; padding: 10px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #61dafb; }
.pwm-info strong { color: #a2f279; }
.parameter-group { background-color: transparent; padding: 8px 0; border-radius: 0; margin-bottom: 8px; border-left: 2px solid #61dafb; padding-left: 10px; }
.parameter-group h5 { color: #61dafb; margin: 0 0 8px 0; font-size: 1.0em; }
.help-icon { display: inline-block; width: 16px; height: 16px; border-radius: 50%; background-color: #61dafb; color: #282c34; font-size: 12px; font-weight: bold; text-align: center; line-height: 16px; margin-left: 8px; cursor: pointer; user-select: none; }
.help-text { background-color: #20232a; color: #fff; border-radius: 6px; padding: 10px; border: 1px solid #61dafb; margin-top: 8px; text-align: left; font-size: 0.9em; line-height: 1.4; width: 100%; box-sizing: border-box; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out, padding 0.3s ease-out; padding-top: 0; padding-bottom: 0; grid-column: 1 / -1; }
.help-text.visible { max-height: 200px; padding-top: 10px; padding-bottom: 10px; }
.modal-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 2000; display: none; justify-content: center; align-items: center; }
.modal-content { background-color: #3a3f47; padding: 20px; border-radius: 8px; width: 90%; max-width: 500px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.mapping-row { display: grid; grid-template-columns: 1fr 100px 100px; gap: 10px; align-items: center; margin-bottom: 10px; }
.mapping-label { text-align: left; font-weight: bold; }
.mapping-button { font-size: 0.8em; padding: 6px 8px; }
/* Małe przyciski pomocnicze (używane m.in. w sekcji ML) */
.btn-small { padding: 6px 8px; font-size: 0.85em; }
.mapping-display { background-color: #20232a; padding: 6px; border-radius: 4px; font-family: monospace; }
.preset-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
#applySelectedPresetBtn { background-color: #a2f279; }
#saveCurrentAsPresetBtn { background-color: #61dafb; }
.dpad-container { display: grid; grid-template-columns: 1fr 1fr 1fr; grid-template-rows: 1fr 1fr 1fr; gap: 5px; max-width: 150px; margin: 15px auto; }
.dpad-btn { background-color: #61dafb; color: #282c34; border-radius: 5px; font-size: 2em; line-height: 1; padding: 5px; cursor: pointer; border: none; }
.dpad-btn:hover { background-color: #a2f279; }
#dpad-up { grid-column: 2; grid-row: 1; }
#dpad-left { grid-column: 1; grid-row: 2; }
#dpad-right { grid-column: 3; grid-row: 2; }
#dpad-down { grid-column: 2; grid-row: 3; }
#dpad-stop { grid-column: 2; grid-row: 2; background-color: #ff6347; color: white; }
.dpad-input-group { display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center; margin: 10px 0; }
.dpad-input-group label { text-align: right; font-weight: bold; color: #a2f279; }
.dpad-input-group input { width: 100%; box-sizing: border-box; background-color: #20232a; color: #fff; border: 1px solid #61dafb; border-radius: 5px; padding: 4px; }
.sequence-step { display: grid; grid-template-columns: 1fr 1fr auto; gap: 10px; align-items: center; background-color: #2a2f35; padding: 8px; border-radius: 6px; margin-bottom: 8px; transition: background-color 0.3s; }
.sequence-step.executing { background-color: #a2f279; color: #282c34; }
.sequence-step.executing select, .sequence-step.executing input { color: #282c34; border-color: #282c34; }
.sequence-step select, .sequence-step input { width: 100%; background-color: #20232a; color: #fff; border: 1px solid #61dafb; border-radius: 4px; padding: 5px; }
.sequence-step .remove-step-btn { background-color: #ff6347; padding: 5px 10px; }
.results-grid { display: grid; grid-template-columns: auto 1fr; gap: 8px 20px; margin-bottom: 15px; text-align: left;}
.results-grid strong { color: #a2f279; }
.test-results-panel { display: none; background-color: #20232a; padding: 12px; border-radius: 6px; margin-top: 15px; }
.test-results-panel h5 { color: #61dafb; margin: 0 0 10px 0; text-align: left; }
#robot3d-container { width: 100%; height: 400px; border-radius: 8px; overflow: hidden; position: relative; border: 2px solid #61dafb; }
.robot3d-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; }
.robot3d-controls button { padding: 8px 16px; background-color: #61dafb; color: #282c34; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
.robot3d-controls button:hover { background-color: #a2f279; }
.robot3d-info { background-color: #20232a; padding: 10px; border-radius: 6px; margin-top: 10px; }
.robot3d-metrics { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; text-align: left; }
.robot3d-metrics strong { color: #a2f279; }

body.tuning-active .main-grid > .card:not(#autotuning-card):not(#log-card):not(#controls-card) {
    opacity: 0.5;
    pointer-events: none;
    /* Usunięto globalne blokowanie UI */
}
body.tuning-active #allSettings .accordion-header,
body.tuning-active #allSettings .accordion-content,
body.tuning-active .card:not(#autotuning-card):not(#controls-card):not(#log-card) button:not(#emergencyStopBtn) {
    opacity: 0.5;
    pointer-events: none;
}
/* elementy jawnie dozwolone w trybie strojenia */
body.tuning-active #controls-card,
body.tuning-active #autotuning-card,
body.tuning-active #log-card {
    opacity: 1.0;
    pointer-events: auto;
}

/* STRONG OVERRIDE: Guarantee autotuning card and its children are not greyed out while tuning is active */
body.tuning-active .main-grid > #autotuning-card,
body.tuning-active .main-grid > #autotuning-card * {
    opacity: 1.0 !important;
    pointer-events: auto !important;
    filter: none !important;
}
/* ukrywanie konfiguracji w panelu optymalizacji podczas trwania strojenia */
body.tuning-active .autotune-config-hide { display: none !important; }
body.tuning-active #tuning-progress-panel { display: block !important; }
body.ui-locked #connectBleBtn, body.ui-locked #emergencyStopBtn {
    opacity: 1.0;
    pointer-events: auto;
}

.dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: left;}
.dashboard-item { background-color: #2a2f35; padding: 10px; border-radius: 6px; border-left: 4px solid #4a4f58; transition: border-color 0.3s; }
.dashboard-item.warn { border-color: #f7b731; }
.dashboard-item.error { border-color: #ff6347; }
.dashboard-item .label { display: block; font-size: 0.85em; color: #a2f279; margin-bottom: 4px; }
.dashboard-item .value { display: block; font-size: 1.3em; font-weight: bold; color: #61dafb; }
.historical-metric { font-size: 0.75em; color: #999; margin-top: 2px; }
.compass-container { position: relative; width: 60px; height: 60px; border-radius: 50%; background-color: #20232a; border: 2px solid #61dafb; margin-top: 5px; }
.compass-needle { position: absolute; top: 10%; left: calc(50% - 2px); width: 4px; height: 40%; background-color: #ff6347; transform-origin: bottom center; transition: transform 0.2s linear; }
.compass-cardinal { position: absolute; color: #fff; font-weight: bold; font-size: 0.8em; }
.n { top: 2px; left: 50%; transform: translateX(-50%); }
.e { top: 50%; right: 4px; transform: translateY(-50%); }
.s { bottom: 2px; left: 50%; transform: translateX(-50%); }
.w { top: 50%; left: 4px; transform: translateY(-50%); }

.chart-toolbar { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 10px; }
.chart-toolbar button { padding: 6px 10px; font-size: 0.85em; }
.chart-cursor-info { display: flex; justify-content: space-around; margin-top: 10px; font-size: 0.9em; flex-wrap: wrap; }
.chart-cursor-info div { text-align: center; margin: 5px; }
.chart-cursor-info strong { color: #a2f279; }

.diff-selector-row { display: flex; gap: 10px; margin-bottom: 10px; }
.diff-selector-row select { flex-grow: 1; padding: 8px; background-color: #20232a; color: #fff; border: 1px solid #61dafb; border-radius: 4px; }
.diff-results { text-align: left; font-family: monospace; background-color: #20232a; padding: 10px; border-radius: 4px; max-height: 300px; overflow-y: auto; }
.diff-added { color: #a2f279; }
.diff-removed { color: #ff6347; text-decoration: line-through; }
.diff-changed { color: #f7b731; }

#path-visualization-container { width: 100%; height: 200px; background-color: #20232a; border-radius: 8px; margin-top: 15px; position: relative; overflow: hidden; }
#pathCanvas { width: 100%; height: 100%; display: block; }
.path-legend { position: absolute; bottom: 10px; left: 10px; background-color: rgba(0,0,0,0.5); padding: 5px; border-radius: 4px; font-size: 0.8em; }
.path-legend div { display: flex; align-items: center; margin-bottom: 3px; }
.path-legend .color-box { width: 12px; height: 12px; margin-right: 5px; border-radius: 2px; }
.path-legend .planned { background-color: #61dafb; }
.path-legend .actual { background-color: #a2f279; }
.sequence-report-panel { background-color: #2a2f35; padding: 15px; border-radius: 6px; margin-top: 15px; display: none; }
.sequence-report-panel h4 { color: #a2f279; margin-top: 0; margin-bottom: 10px; }
.sequence-report-metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; }
.sequence-report-metrics strong { color: #61dafb; }

.autotune-config-common { background-color: #2a2f35; padding: 15px; border-radius: 6px; margin-bottom: 15px; }
.autotune-config-common h3 { color: #61dafb; margin-top: 0; margin-bottom: 15px; }
.autotune-config-common .setting-container { margin-bottom: 10px; }
.autotune-config-common .setting-container label { color: #a2f279; }
.autotune-tuning-chart-wrapper { position: relative; height: 250px; border-radius: 8px; overflow: hidden; background-color: #20232a; margin-bottom: 15px; }
.main-method-tabs { display: flex; margin-bottom: 15px; border-bottom: 2px solid #4a4f58; }
.method-tab { background-color: #4a4f58; color: #61dafb; border: none; padding: 12px 10px; cursor: pointer; transition: all 0.3s; border-radius: 8px 8px 0 0; font-size: 0.9em; flex-grow: 1;}
.method-tab.active { background-color: #61dafb; color: #282c34; }
.method-tab:hover:not(.active) { background-color: #5a6068; }
.method-tab:disabled { cursor: not-allowed; opacity: 0.5; }
.method-content { display: none; }
.method-content.active { display: block; }
.autotune-main-content { display: none; }
.autotune-main-content.active { display: block; }
/* Stała wysokość obszaru zakładek (Konfiguracja/Metody) z przewijaniem, aby wysokość akordeonu była stabilna */
#autotuning-config-panel  /* kontener sekcji tabs */ 
#autotuning-config-panel .autotune-main-content { 
    height: 360px; 
    overflow: auto; 
    -webkit-overflow-scrolling: touch;
}
@media (max-width: 768px) {
    #autotuning-config-panel .autotune-main-content { height: 52vh; }
}
/* Drobne wyrównanie stylu akordeonu 6 do pozostałych */
#autotuning-card .accordion-header { width: 100%; display: block; }
#autotuning-card .accordion-content { box-sizing: border-box; }
.config-panel { background-color: #2a2f35; border-radius: 6px; padding: 15px; }
.config-panel h3 { color: #61dafb; margin-top: 0; margin-bottom: 15px; font-size: 1.2em; }
.config-section { margin-bottom: 20px; }
.config-section label { display: block; color: #a2f279; font-weight: bold; margin-bottom: 8px; text-align: left;}
.config-section select { width: 100%; padding: 8px; background-color: #20232a; color: #fff; border: 1px solid #61dafb; border-radius: 4px; }
.config-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
.param-group { background-color: #20232a; padding: 12px; border-radius: 6px; text-align: left; }
.param-group label { display: block; color: #61dafb; font-size: 0.9em; margin-bottom: 5px; }
.param-group input[type="range"] { width: 100%; }
.param-group span { display: block; text-align: center; color: #f7b731; font-weight: bold; margin-top: 5px; }
.tuning-controls { display: flex; gap: 10px; align-items: center; margin-bottom: 20px; }
.tuning-controls button {flex: 1;}
.tuning-status { color: #f7b731; font-weight: bold; }
.status-panel { background-color: #20232a; padding: 12px; border-radius: 6px; margin-bottom: 15px; }
.progress-bar { width: 100%; height: 8px; background-color: #4a4f58; border-radius: 4px; overflow: hidden; margin-top: 10px; }
.progress-bar .progress-fill { height: 100%; background-color: #a2f279; transition: width 0.3s ease; }
.status-info { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; font-size: 0.9em; }
.status-info strong {color: #61dafb;}
.status-info span { color: #f7b731; }
.results-panel { background-color: #2a2f35; padding: 15px; border-radius: 6px; margin-top: 15px; display: none; }
.results-panel h4 {color: #a2f279; margin-top:0;}
.autotune-dashboard { background-color: #20232a; padding: 15px; border-radius: 6px; margin-top: 15px; display: none; }
.autotune-dashboard h4 { color: #a2f279; margin: 0 0 10px 0;}
.dashboard-metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
.metric-item { text-align: center; }
.metric-label { color: #61dafb; font-size: 0.9em; display: block; margin-bottom: 5px; }
.metric-value { font-size: 1.2em; font-weight: bold; color: #a2f279; }
.progress-bar.small .progress-fill { background-color: #f7b731; }
.search-space-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-bottom: 15px; }
.search-space-param { background-color: #20232a; padding: 8px; border-radius: 4px; text-align: left; }
.search-space-param label { display: block; color: #61dafb; font-size: 0.85em; margin-bottom: 5px; }
.search-space-param input[type="number"] { width: 100%; background-color: #3a3f47; color: #fff; border: 1px solid #4a4f58; border-radius: 3px; padding: 3px; font-size: 0.9em; }
.fitness-function-config { margin-top: 15px; }
.fitness-weight-item { display: flex; align-items: center; margin-bottom: 8px; }
.fitness-weight-item label { flex-grow: 1; text-align: left; color: #fff; font-size: 0.9em; }
.fitness-weight-item input[type="range"] { width: 100px; margin-left: 10px; }
.fitness-weight-item span { width: 40px; text-align: right; color: #a2f279; font-weight: bold; }
.autotune-live-status .status-info { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px; margin-top: 10px; font-size: 0.9em; }
.autotune-live-status .status-info strong { color: #a2f279; }
.autotune-results-container {
    max-height: 400px;
    overflow-y: auto;
    margin-top: 15px;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
.autotune-results-table {
    width: 100%;
    min-width: 600px;
    border-collapse: collapse;
    font-size: 0.9em;
    margin: 0;
    display: none; /* Hide table on mobile by default */
}
.autotune-results-table th, .autotune-results-table td {
    border: 1px solid #4a4f58;
    padding: 8px 6px;
    text-align: center;
    white-space: nowrap;
}
.autotune-results-table th {
    background-color: #4a4f58;
    color: #61dafb;
    font-weight: bold;
    position: sticky;
    top: 0;
    z-index: 1;
}
.autotune-results-table td {
    background-color: #3a3f47;
    color: #fff;
}
.autotune-results-table button {
    margin-left: 5px;
    padding: 4px 8px;
    font-size: 0.8em;
}

/* NEW: Block/Card format for results - mobile-first design */
.result-entry {
    background-color: #2a2f35;
    border-left: 4px solid #61dafb;
    padding: 12px;
    margin-bottom: 10px;
    border-radius: 6px;
    transition: border-color 0.3s, background-color 0.3s;
}
.result-entry:hover {
    background-color: #3a3f47;
    border-color: #a2f279;
}
.result-header {
    font-size: 1.1em;
    color: #61dafb;
    font-weight: bold;
    margin-bottom: 8px;
}
.result-params {
    color: #fff;
    margin-bottom: 6px;
    font-size: 0.95em;
}
.result-metrics {
    color: #a2f279;
    font-size: 0.9em;
    margin-bottom: 8px;
}
.result-entry button {
    padding: 6px 12px;
    font-size: 0.85em;
    margin-right: 5px;
}

/* Debug overlay: lightweight, non-invasive diagnostic panel */
.ui-debug {
    position: fixed;
    right: 12px;
    bottom: 12px;
    background: rgba(20, 21, 24, 0.95);
    color: #fff;
    padding: 8px 10px;
    border-radius: 8px;
    font-size: 12px;
    z-index: 2001;
    min-width: 180px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.35);
}
.ui-debug .row { display:flex; justify-content:space-between; gap:8px; align-items:center; margin-bottom:6px; }
.ui-debug .row .label { color: #a2f279; font-weight: 600; }
.ui-debug .row .value { color: #ffffff; opacity: 0.9; }
.ui-debug button { background: #4a4f58; color: #61dafb; border: 1px solid #4a4f58; padding: 4px 8px; border-radius: 6px; cursor: pointer; font-size: 12px; }
.ui-debug button:hover { background: #61dafb; color: #282c34; }
.ui-debug .error { color: #ff6347; font-weight: 700; }
.ui-debug .warn { color: #f7b731; font-weight: 700; }
.ui-debug .ok { color: #a2f279; font-weight: 700; }

/* Responsive design for mobile */
@media (min-width: 769px) {
    /* Show table on larger screens */
    .autotune-results-table {
        display: table;
    }
    .result-entry {
        display: none;
    }
}

@media (max-width: 768px) {
    /* Hide table on smaller screens, show blocks */
    .autotune-results-table {
        display: none;
    }
    .result-entry {
        display: block;
    }
}
/* Modal responsiveness for mapowanie czujnika and other large modals */
#sensor-mapping-modal .modal-content, #sensor-mapping-modal .modal-content * { box-sizing: border-box; }
.sensor-mapping-wrapper { display: flex; gap: 10px; align-items: flex-start; }
.sensor-mapping-preview { width: 100%; height: 200px; min-height: 160px; border-radius: 6px; overflow: hidden; }
.sensor-mapping-controls { width: 320px; max-width: 48%; }
/* Make modal content scrollable and fit on small screens */
.modal-backdrop { padding: 10px; }
.modal-content { max-height: calc(100vh - 40px); overflow-y: auto; }
@media (max-width: 760px) {
    .sensor-mapping-wrapper { flex-direction: column; }
    .sensor-mapping-controls { width: 100%; max-width: none; }
    .sensor-mapping-preview { height: 180px; }
    .modal-content { width: calc(100% - 20px); max-width: none; padding: 10px; }
    .modal-backdrop { align-items: flex-start; }
}
.axis-mapping-row {
    display: grid;
    grid-template-columns: 1fr auto auto;
    gap: 10px;
    align-items: center;
    margin-bottom: 8px;
    text-align: left;
}
.chart-hints { 
    background-color: #20232a; 
    padding: 8px; 
    border-radius: 4px; 
    margin-bottom: 10px; 
    font-size: 0.85em; 
    border-left: 3px solid #61dafb; 
}
/* Sekcje teorii metod autostrojenia */
.method-theory { background:#20232a; border:1px solid #4a4f58; border-radius:6px; padding:12px; text-align:left; margin-bottom:12px; }
.method-theory h4 { color:#a2f279; margin:0 0 8px 0; }
.method-theory ul { margin:6px 0 0 18px; padding:0; }
.method-theory li { margin:4px 0; }
/* Modal mapowania modelu 3D */
.model-mapping-row { display:grid; grid-template-columns: 100px 1fr 1fr; gap:8px; align-items:center; margin-bottom:8px; }

/* Fallback placeholder for missing 3D visualization or joystick canvas */
.three-fallback, .joystick-fallback {
    color: #fff;
    background: rgba(0,0,0,0.38);
    border-radius: 6px;
    padding: 8px 12px;
    font-size: 0.95em;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    box-sizing: border-box;
    text-align: center;
}
.model-mapping-row select { width:100%; background:#20232a; color:#fff; border:1px solid #61dafb; border-radius:4px; padding:4px; }
.model-mapping-row .sign-toggle { display:flex; gap:6px; }
.sign-toggle button { flex:1; background:#4a4f58; color:#61dafb; }
.sign-toggle button.active { background:#a2f279; color:#282c34; }
.sign-toggle button:disabled { opacity: 0.5; cursor: not-allowed; }
.sign-badge {
    display: inline-block;
    font-size: 0.85em;
    margin-left: 8px;
    padding: 3px 6px;
    border-radius: 10px;
    background: #2b2f33;
    color: #61dafb;
    border: 1px solid #4a4f58;
}
.sign-badge.negative { background: #ff6b6b; color: #282c34; }
.sign-summary {
    display:inline-block; padding: 3px 8px; margin-left:10px; border-radius:10px; background:#282c34; color:#61dafb; font-size:0.9em; border:1px solid #4a4f58;
}
#model-mapping-current { font-family:monospace; background:#111; border:1px solid #333; padding:8px; border-radius:6px; text-align:left; font-size:0.85em; }

/* Usunięty nowy blok stylów autotune (powielenie) - powrót do legacy definicji powyżej */
